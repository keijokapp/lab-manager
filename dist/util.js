"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asyncMiddleware=asyncMiddleware;function asyncMiddleware(a){return function(){const b=4===arguments.length?arguments[3]:arguments[2],c=4===arguments.length?arguments[2]:arguments[1];a.apply(this,[].slice.call(arguments,0,arguments.length-1)).then(()=>{c.finished||b()}).catch(a=>{c.finished||b(a)})}}